from typing import Any, Dict
from typing_extensions import Protocol

from paystack._paystack_object import paystackObject


class _Verifiable(Protocol):
    def instance_url(self) -> str: ...

    def _request(
        self,
        method: str,
        url: str,
        params: Dict[str, Any],
    ) -> paystackObject: ...


class VerifyMixin(object):
    def verify(self: _Verifiable, **params):
        url = self.instance_url() + "/verify"
        return self._request("post", url, params=params)
